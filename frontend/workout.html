<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Edzésterv – ATHLION</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="base.css" />
  <link rel="stylesheet" href="layout.css" />
  <link rel="icon" type="image/png" href="favicon.png">
</head>
<body>
  <header class="topbar glass">
    <div class="brand">
      <a href="index.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit">
        <img src="athlion_logo.png" alt="ATHLION logó" />
        <div class="title">ATH<span>LION</span></div>
      </a>
    </div>

    <div class="nav-main-links">
        <a href="diet.html" class="ghost" id="navDiet">Étrend</a>
        <a href="index.html" class="ghost ghost-icon" id="navHome" title="Kezdőlap">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="nav-icon">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
          </svg>
        </a>
        <a href="workout.html" class="ghost active" id="navWorkout">Edzésterv</a>
    </div>

    <div class="nav-auth-group">
        <a href="profile.html" class="ghost" id="navProfile">Profil</a>
        <button class="lang" id="langToggle">HU/EN</button> 
        
        <span class="welcome" id="welcomeText" style="display:none"></span>
        
        <a href="register.html" class="ghost" id="navRegister">Regisztráció</a>
        <a href="login.html" class="ghost" id="navSignin">Bejelentkezés</a>

        <button class="ghost" id="navLogout" style="display:none">Kijelentkezés</button>
    </div>
  </header>
  <main class="page">
    <section class="panel" id="workout">
      <div class="card glass hero">
        <h1 id="workoutTitle">Edzésterv-összeállító</h1>
        <p id="workoutSubtitle">Fogd-és-vidd gyakorlatsorrend, heti bontás.</p>
      </div>

      <div class="panel-inner">
        <section class="card glass workout-builder">
          <!-- 1) MÓDVÁLASZTÓ -->
          <div class="builder-mode">
            <h3>Mit edzettél ma?</h3>
            <p class="muted small">
              Először válaszd ki, hogy kardióztál vagy edzőteremben edzettél.
            </p>
            <div class="mode-buttons">
              <button id="modeCardio" class="btn mode-btn">Kardió</button>
              <button id="modeGym" class="btn mode-btn">Edzőtermi edzés</button>
            </div>
            <p class="muted small" id="dayTypeLabel" style="margin-top:8px;"></p>
          </div>

          <!-- 2) EDZŐTERMI BUILDER (GYM) -->
          <div id="gymBuilder" class="builder-body" style="display:none;">
            <div class="builder-header">
              <h3>Gyakorlatválasztó</h3>
              <p class="muted">
                Válaszd ki a napot a naptárban, majd húzd be először a
                <strong>3 fő gyakorlatot</strong>. Ezek alapján ajánlunk még
                <strong>+3 kiegészítőt</strong>, végül zárd le a napot.
              </p>
            </div>

            <div class="builder-section">
              <h4>Elérhető gyakorlatok</h4>
              <div class="exercise-pool" id="exercisePool"></div>
            </div>

            <div class="builder-section">
              <h4>Fő edzések (max. 3)</h4>
              <div class="dropzone" id="mainExercises">
                <span class="dropzone-placeholder">
                  Húzd ide a fő gyakorlatokat
                </span>
              </div>
            </div>

            <div class="builder-section">
              <h4>Kiegészítő ajánlott edzések (max. 3)</h4>
              <div class="dropzone" id="extraExercises">
                <span class="dropzone-placeholder">
                  Ha megvan a 3 fő gyakorlat, automatikusan ajánlunk +3-at ide.
                </span>
              </div>
            </div>
          </div>

          <!-- 3) KARDIÓ BUILDER -->
          <div id="cardioBuilder" class="builder-body" style="display:none;">
            <div class="builder-header">
              <h3>Kardió aktivitás</h3>
              <p class="muted">
                Válaszd ki, milyen kardiót végeztél a mai napon.
              </p>
            </div>
            <div class="builder-section">
              <h4>Elérhető kardió tevékenységek</h4>
              <div class="cardio-list" id="cardioList">
                <p class="muted small">Válassz ki egy kardió aktivitást a listából.</p>
              </div>
            </div>
          </div>

          <!-- 4) KÖZÖS LOCK GOMB -->
          <button class="btn" id="lockDayBtn" disabled>Nap lezárása</button>
          <p class="muted small" id="lockInfo">
            Válassz ki legalább 3 gyakorlatot a nap lezárásához.
          </p>
        </section>


        <section class="card glass plan calendar-card">
          <h3>Naptár</h3>
          <p class="muted">
            Válassz egy napot. A lezárt napok visszatekinthetők,
            az új napokra pedig összeállíthatod az edzést.
          </p>

          <div class="calendar-current">
            Aktuálisan kiválasztott nap:
            <span id="calendarCurrentLabel">–</span>
          </div>

          <div class="calendar-header">
            <button class="cal-nav" id="calendarPrev">‹</button>
            <div class="calendar-month" id="calendarMonthLabel">–</div>
            <button class="cal-nav" id="calendarNext">›</button>
          </div>

          <div class="calendar-weekdays">
            <span>H</span><span>K</span><span>Sze</span>
            <span>Cs</span><span>P</span><span>Szo</span><span>V</span>
          </div>

          <div class="calendar-grid calendar-list" id="calendarList"></div>
        </section>
      </div>
    </section>
  </main>

  <script src="script.js"></script>
  <script src="workout.js"></script>
</body>
</html>